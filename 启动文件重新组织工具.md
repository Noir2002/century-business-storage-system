# R2文件重新组织工具 - 启动说明

## 🚀 快速启动

### 方法1：通过现有服务器
1. 确保您的本地服务器正在运行：
   ```bash
   node server.js
   # 或者
   npm start
   ```

2. 在浏览器中访问：
   ```
   http://localhost:3000/file-reorganizer.html
   ```

### 方法2：使用Python简单服务器
如果您的Node.js服务器没有运行，可以使用Python：

1. 在项目目录中打开命令行
2. 运行Python服务器：
   ```bash
   # Python 3
   python -m http.server 3000
   
   # 或者 Python 2
   python -m SimpleHTTPServer 3000
   ```

3. 在浏览器中访问：
   ```
   http://localhost:3000/file-reorganizer.html
   ```

## ⚠️ 重要说明

### 为什么不能直接打开HTML文件？
- 浏览器出于安全考虑，不允许从本地文件系统直接访问API
- 这会导致CORS（跨域资源共享）错误
- 必须通过HTTP服务器访问才能正常工作

### 安全保护
- ✅ 只会处理打包系统的图片和视频文件
- ✅ 不会影响库存系统的Excel文件
- ✅ 提供文件类型分析，让您确认安全后再操作

## 🔧 使用步骤

1. **启动服务器**：确保本地服务器正在运行
2. **访问工具**：通过 `http://localhost:3000/file-reorganizer.html` 访问
3. **分析文件**：点击"🔍 分析文件类型"按钮
4. **确认安全**：查看分析结果，确认只有打包系统文件会被处理
5. **开始重新组织**：确认安全后点击"🚀 开始重新组织"

## 📋 文件分类说明

- **🛡️ 库存系统文件**：`arc/`、`package-sync/`、`wide/`、`records/`、`tmall/` 文件夹中的文件（不会移动）
- **📦 打包系统文件**：图片、视频文件和以日期命名的文件夹（需要重新组织）
- **❓ 其他文件**：未分类的文件（需要手动检查）

## 🆘 故障排除

### 如果看到"分析失败"错误：
1. 确认服务器正在运行
2. 确认通过HTTP协议访问（不是file://）
3. 检查浏览器控制台是否有其他错误信息

### 如果服务器连接失败：
1. 检查端口3000是否被占用
2. 尝试使用其他端口（如8080）
3. 确认防火墙没有阻止连接
