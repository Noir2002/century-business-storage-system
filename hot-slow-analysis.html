<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>çˆ†å“æ»é”€å“åˆ†æ - æ•°æ®ç®¡ç†ç³»ç»Ÿ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="src/css/layui.css">
  <script src="src/modules/jquery.js"></script>
  <script src="src/layui.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
  <style>
    .analysis-container {
      padding: 20px;
      background: #f8f9fa;
      min-height: 100vh;
    }
    .analysis-header {
      background: white;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .stats-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }
    .stat-card {
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      text-align: center;
    }
    .stat-number {
      font-size: 2em;
      font-weight: bold;
      color: #1E9FFF;
    }
    .stat-label {
      color: #666;
      margin-top: 5px;
    }
    .chart-container {
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      margin-bottom: 20px;
    }
    .chart {
      height: 400px;
      width: 100%;
    }
    .product-list {
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .filter-bar {
      background: white;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .hot-product {
      color: #FF5722;
      font-weight: bold;
    }
    .slow-product {
      color: #FFB800;
      font-weight: bold;
    }
    .normal-product {
      color: #5FB878;
    }
    .back-btn {
      margin-bottom: 20px;
    }
  </style>
</head>
<body>
  <div class="analysis-container">
    <!-- è¿”å›æŒ‰é’® -->
    <div class="back-btn">
      <button class="layui-btn layui-btn-primary" onclick="goBack()">
        <i class="layui-icon layui-icon-left"></i> è¿”å›æ•°æ®åˆ†æ
      </button>
      <button class="layui-btn layui-btn-warm" onclick="goTmallAnalysis()">
        <i class="layui-icon layui-icon-cart"></i> å¤©çŒ«æ•°æ®åˆ†æ
      </button>
    </div>

    <!-- é¡µé¢æ ‡é¢˜ -->
    <div class="analysis-header">
      <h1>ğŸ“Š çˆ†å“æ»é”€å“åˆ†æ</h1>
      <p>æ™ºèƒ½åˆ†æäº§å“é”€é‡è¡¨ç°ï¼Œè¯†åˆ«çˆ†å“å’Œæ»é”€å“</p>
    </div>

    <!-- ç­›é€‰æ  -->
    <div class="filter-bar">
      <form class="layui-form" lay-filter="analysisFilter">
        <div class="layui-form-item">
          <div class="layui-inline">
            <label class="layui-form-label">åˆ†æèŒƒå›´</label>
            <div class="layui-input-inline">
              <select name="timeRange" lay-filter="timeRange">
                <option value="7">æœ€è¿‘7å¤©</option>
                <option value="30" selected>æœ€è¿‘30å¤©</option>
                <option value="90">æœ€è¿‘90å¤©</option>
              </select>
            </div>
          </div>
          <div class="layui-inline">
            <label class="layui-form-label">æ˜¾ç¤ºæ•°é‡</label>
            <div class="layui-input-inline">
              <select name="limit">
                <option value="10">å‰10å</option>
                <option value="20" selected>å‰20å</option>
                <option value="50">å‰50å</option>
              </select>
            </div>
          </div>
          <div class="layui-inline">
            <button class="layui-btn" lay-submit lay-filter="updateAnalysis">
              <i class="layui-icon layui-icon-refresh"></i> æ›´æ–°åˆ†æ
            </button>
          </div>
        </div>
      </form>
    </div>

    <!-- ç»Ÿè®¡å¡ç‰‡ -->
    <div class="stats-cards">
      <div class="stat-card">
        <div class="stat-number" id="totalProducts">0</div>
        <div class="stat-label">æ€»äº§å“æ•°</div>
      </div>
      <div class="stat-card">
        <div class="stat-number" id="hotProducts">0</div>
        <div class="stat-label">çˆ†å“æ•°é‡</div>
      </div>
      <div class="stat-card">
        <div class="stat-number" id="slowProducts">0</div>
        <div class="stat-label">æ»é”€å“æ•°é‡</div>
      </div>
      <div class="stat-card">
        <div class="stat-number" id="totalSales">0</div>
        <div class="stat-label">æ€»é”€é‡</div>
      </div>
    </div>

    <!-- é”€é‡è¶‹åŠ¿å›¾ -->
    <div class="chart-container">
      <h3>ğŸ“Š æ¯æ—¥æ€»é”€é‡è¶‹åŠ¿</h3>
      <div id="dailyTotalSalesChart" class="chart"></div>
    </div>
    <div class="chart-container">
      <h3>ğŸ“ˆ é”€é‡è¶‹åŠ¿åˆ†æ</h3>
      <div id="salesTrendChart" class="chart"></div>
    </div>

    <!-- çˆ†å“åˆ†æ -->
    <div class="chart-container">
      <h3>ğŸ”¥ çˆ†å“é”€é‡æ’è¡Œ</h3>
      <div id="hotProductsChart" class="chart"></div>
    </div>

    <!-- çˆ†å“åˆ†çº§å›¾è¡¨ -->
    <div class="chart-container">
      <h3>ğŸ”¥ çˆ†å“åˆ†çº§åˆ†æ</h3>
      <div id="hotLevelChartsContainer"></div>
    </div>

    <!-- æ»é”€å“åˆ†æ -->
    <div class="chart-container">
      <h3>ğŸ“‰ æ»é”€å“åˆ†æ</h3>
      <div id="slowProductsChart" class="chart"></div>
    </div>

    <!-- äº§å“è¯¦ç»†åˆ—è¡¨ -->
    <div class="product-list">
      <h3>ğŸ“‹ äº§å“è¯¦ç»†åˆ†æ</h3>
      <table class="layui-table" id="productTable">
        <thead>
          <tr>
            <th>æ’å</th>
            <th>äº§å“åç§°</th>
            <th>SKU</th>
            <th>æ€»é”€é‡</th>
            <th>å½“å‰åº“å­˜</th>
            <th>å¹³å‡æ—¥é”€é‡</th>
            <th>ç½‘å€</th>
          </tr>
        </thead>
        <tbody id="productTableBody">
          <!-- æ•°æ®å°†é€šè¿‡JavaScriptåŠ¨æ€å¡«å…… -->
        </tbody>
      </table>
      <!-- äº§å“è¡¨æ ¼åˆ†é¡µ -->
      <div id="productTablePagination"></div>
    </div>
  </div>

  <script>
    layui.use(['form', 'layer', 'table', 'jquery'], function(){
      var form = layui.form;
      var layer = layui.layer;
      var table = layui.table;
      var $ = layui.jquery;
      var salesTrendChart = null;
      var hotProductsChart = null;
      var slowProductsChart = null;
      var dailyTotalSalesChart = null;
      var allWideData = [];
      var allRecordData = [];
      var currentTimeRange = 30;
      var currentLimit = 20;
      initPage();
      function initPage() {
        loadAllData();
        form.on('submit(updateAnalysis)', function(data){
          currentTimeRange = parseInt(data.field.timeRange || 30);
          currentLimit = parseInt(data.field.limit || 20);
          loadAllData();
          return false;
        });
      }
      function loadAllData() {
        layer.msg('æ­£åœ¨åŠ è½½æœ¬åœ°å®½è¡¨å’Œæ˜ç»†æ•°æ®...', {icon: 16, time: 1000});
        var token = localStorage.getItem('token');
        var headers = {};
        if (token) headers['Authorization'] = 'Bearer ' + token;
        // å¹¶è¡Œè¯·æ±‚å®½è¡¨å’Œæ˜ç»†
        $.when(
          $.ajax({ url: '/api/localdb/wide', type: 'GET', headers: headers }),
          $.ajax({ url: '/api/localdb/records', type: 'GET', headers: headers })
        ).done(function(wideRes, recordRes) {
          allWideData = (wideRes[0] && wideRes[0].data) || [];
          allRecordData = (recordRes[0] && recordRes[0].data) || [];
          processData();
        }).fail(function() {
          layer.msg('æ•°æ®åŠ è½½å¤±è´¥', {icon:2});
        });
      }
      function processData() {
        // 1. è¿‡æ»¤æ—¶é—´èŒƒå›´
        var now = new Date();
        var startDate = new Date(now);
        startDate.setDate(now.getDate() - currentTimeRange + 1);
        // 2. èšåˆå®½è¡¨æ¯æ—¥é”€é‡
        var dateMap = {};
        var skuMap = {};
        allWideData.forEach(row => {
          var sku = row['SKU'];
          var name = row['äº§å“ä¸­æ–‡å'] || row['äº§å“åç§°'] || '';
          if (!sku) return;
          if (!skuMap[sku]) skuMap[sku] = { sku: sku, name: name, totalSales: 0, salesByDate: {}, salesList: [], currentStock: 0 };
          let latestDate = '';
          Object.keys(row).forEach(key => {
            if (/^\d{4}-\d{2}-\d{2}_é”€é‡$/.test(key)) {
              var date = key.replace('_é”€é‡', '');
              if (new Date(date) < startDate) return;
              var qty = parseInt(row[key]) || 0;
              dateMap[date] = (dateMap[date] || 0) + qty;
              skuMap[sku].totalSales += qty;
              skuMap[sku].salesByDate[date] = (skuMap[sku].salesByDate[date] || 0) + qty;
              skuMap[sku].salesList.push({ date: date, qty: qty });
              // è®°å½•æœ€æ–°æ—¥æœŸ
              if (!latestDate || date > latestDate) latestDate = date;
            }
          });
          // å–æœ€æ–°åº“å­˜
          if (latestDate && row[latestDate] !== undefined) {
            skuMap[sku].currentStock = parseInt(row[latestDate]) || 0;
          }
        });
        // 3. èšåˆæ˜ç»†æ¯æ—¥é”€é‡
        allRecordData.forEach(row => {
          var sku = row['SKU'];
          var name = row['äº§å“ä¸­æ–‡å'] || row['äº§å“åç§°'] || '';
          var date = row['æ—¥æœŸ'] || row['æ—¶é—´'];
          var qty = parseInt(row['é”€é‡'] || 0);
          if (!sku || !date || !qty) return;
          var dateStr = '';
          try {
            var d = new Date(date.replace(/[./]/g, '-'));
            if (!isNaN(d)) dateStr = d.toISOString().split('T')[0];
          } catch(e) {}
          if (!dateStr) return;
          if (new Date(dateStr) < startDate) return;
          dateMap[dateStr] = (dateMap[dateStr] || 0) + qty;
          if (!skuMap[sku]) skuMap[sku] = { sku: sku, name: name, totalSales: 0, salesByDate: {}, salesList: [], currentStock: 0 };
          skuMap[sku].totalSales += qty;
          skuMap[sku].salesByDate[dateStr] = (skuMap[sku].salesByDate[dateStr] || 0) + qty;
          skuMap[sku].salesList.push({ date: dateStr, qty: qty });
        });
        // 4. ç”Ÿæˆæ¯æ—¥æ€»é”€é‡è¶‹åŠ¿å›¾è¡¨
        renderDailyTotalSalesChart(dateMap);
        // 5. ç»Ÿè®¡å¡ç‰‡
        var skuArr = Object.values(skuMap);
        $('#totalProducts').text(skuArr.length);
        $('#totalSales').text(skuArr.reduce((sum, s) => sum + s.totalSales, 0));
        skuArr.sort((a, b) => b.totalSales - a.totalSales);
        var hotArr = skuArr.slice(0, currentLimit);
        var slowArr = skuArr.filter(s => s.totalSales <= 5);
        $('#hotProducts').text(hotArr.length);
        $('#slowProducts').text(slowArr.length);
        // 6. å…¶å®ƒåˆ†æ
        generateSalesTrendChart(skuArr, currentTimeRange);
        generateHotProductsChart(skuArr);
        generateHotLevelCharts(skuArr);
        generateSlowProductsList(slowArr);
        generateProductTableWithPagination(skuArr);
        layer.msg('çˆ†å“æ»é”€å“åˆ†æå®Œæˆï¼', {icon: 1});
      }
      function renderDailyTotalSalesChart(dateMap) {
        var chartDom = document.getElementById('dailyTotalSalesChart');
        if (dailyTotalSalesChart) dailyTotalSalesChart.dispose();
        dailyTotalSalesChart = echarts.init(chartDom);
        var dates = Object.keys(dateMap).sort();
        var values = dates.map(d => dateMap[d]);
        var option = {
          title: { text: 'æ¯æ—¥æ€»é”€é‡è¶‹åŠ¿', left: 'center' },
          tooltip: { trigger: 'axis' },
          xAxis: { type: 'category', data: dates },
          yAxis: { type: 'value' },
          series: [{ name: 'æ€»é”€é‡', type: 'line', data: values, smooth: true, itemStyle: { color: '#FF5722' } }]
        };
        dailyTotalSalesChart.setOption(option);
      }
      
      // ç”Ÿæˆé”€é‡è¶‹åŠ¿å›¾
      function generateSalesTrendChart(data, timeRange) {
        const chartDom = document.getElementById('salesTrendChart');
        if (salesTrendChart) {
          salesTrendChart.dispose();
        }
        salesTrendChart = echarts.init(chartDom);
        
        // æŒ‰é”€é‡æ’åºï¼Œå–å‰10å
        const topProducts = data.slice(0, 10);
        
        const option = {
          title: {
            text: 'é”€é‡è¶‹åŠ¿åˆ†æ',
            left: 'center'
          },
          tooltip: {
            trigger: 'axis',
            axisPointer: {
              type: 'shadow'
            }
          },
          legend: {
            data: topProducts.map(item => item.name),
            type: 'scroll',
            bottom: 10
          },
          grid: {
            left: '3%',
            right: '4%',
            bottom: '15%',
            containLabel: true
          },
          xAxis: {
            type: 'category',
            data: ['æ€»é”€é‡', 'å¹³å‡æ—¥é”€é‡']
          },
          yAxis: {
            type: 'value'
          },
          series: topProducts.map((item, index) => ({
            name: item.name,
            type: 'bar',
            data: [item.totalSales, Math.round(item.totalSales / timeRange * 10) / 10],
            itemStyle: {
              color: index < 3 ? '#FF5722' : '#1E9FFF'
            }
          }))
        };
        
        salesTrendChart.setOption(option);
      }
      
      // ç”Ÿæˆçˆ†å“å›¾è¡¨
      function generateHotProductsChart(hotProducts) {
        const chartDom = document.getElementById('hotProductsChart');
        if (hotProductsChart) {
          hotProductsChart.dispose();
        }
        hotProductsChart = echarts.init(chartDom);
        
        const option = {
          title: {
            text: 'çˆ†å“é”€é‡æ’è¡Œ',
            left: 'center'
          },
          tooltip: {
            trigger: 'axis',
            axisPointer: {
              type: 'shadow'
            }
          },
          grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
          },
          xAxis: {
            type: 'value'
          },
          yAxis: {
            type: 'category',
            data: hotProducts.slice(0, 10).map(item => item.name)
          },
          series: [{
            name: 'é”€é‡',
            type: 'bar',
            data: hotProducts.slice(0, 10).map(item => item.totalSales),
            itemStyle: {
              color: '#FF5722'
            }
          }]
        };
        
        hotProductsChart.setOption(option);
      }
      
      // ç”Ÿæˆçˆ†å“åˆ†çº§å›¾è¡¨
      function generateHotLevelCharts(hotLevelCharts) {
        const chartContainer = document.getElementById('hotLevelChartsContainer');
        chartContainer.innerHTML = '';
        
        // åˆ›å»ºæŒ‰é’®ç»„
        const buttonGroup = document.createElement('div');
        buttonGroup.style.textAlign = 'center';
        buttonGroup.style.marginBottom = '20px';
        buttonGroup.innerHTML = `
          <button class="layui-btn layui-btn-sm layui-btn-primary" data-level="10">å‰10</button>
          <button class="layui-btn layui-btn-sm" data-level="20">å‰20</button>
          <button class="layui-btn layui-btn-sm" data-level="50">å‰50</button>
          <button class="layui-btn layui-btn-sm" data-level="100">å‰100</button>
        `;
        chartContainer.appendChild(buttonGroup);
        
        // åˆ›å»ºå›¾è¡¨å®¹å™¨
        const chartDiv = document.createElement('div');
        chartDiv.style.height = '400px';
        chartDiv.id = 'hotLevelChart';
        chartContainer.appendChild(chartDiv);
        
        // åˆå§‹åŒ–å›¾è¡¨
        const chart = echarts.init(chartDiv);
        let currentLevel = 10;
        
        // æ›´æ–°å›¾è¡¨å‡½æ•°
        function updateChart(level) {
          const data = hotLevelCharts.slice(0, level); // åªå–å‰levelä¸ª
          const option = {
            title: {
              text: `çˆ†å“é”€é‡æ’è¡Œï¼ˆå‰${level}ï¼‰`,
              left: 'center'
            },
            tooltip: {
              trigger: 'axis',
              axisPointer: { type: 'shadow' },
              formatter: function(params) {
                // params æ˜¯æ•°ç»„ï¼Œå–ç¬¬ä¸€ä¸ª
                const p = params[0];
                const item = data[p.dataIndex];
                return `
                  <div style="min-width:180px;">
                    <b>${item.name}</b><br/>
                    <span style='color:#FF5722;'>â—</span> é”€é‡ï¼š${item.totalSales}<br/>
                    <span style='color:#16baaa;'>â—</span> åº“å­˜ï¼š${item.currentStock}
                  </div>
                `;
              }
            },
            grid: { left: '3%', right: '4%', bottom: '3%', containLabel: true },
            xAxis: { type: 'value' },
            yAxis: {
              type: 'category',
              data: data.map(item => item.name)
            },
            series: [{
              name: 'é”€é‡',
              type: 'bar',
              data: data.map(item => item.totalSales),
              itemStyle: { color: '#FF5722' }
            }]
          };
          chart.setOption(option);
        }
        
        // åˆå§‹åŒ–æ˜¾ç¤ºå‰10
        updateChart(10);
        
        // ç»‘å®šæŒ‰é’®äº‹ä»¶
        buttonGroup.addEventListener('click', function(e) {
          if (e.target.tagName === 'BUTTON') {
            const level = parseInt(e.target.getAttribute('data-level'));
            currentLevel = level;
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            buttonGroup.querySelectorAll('button').forEach(btn => {
              btn.className = 'layui-btn layui-btn-sm';
            });
            e.target.className = 'layui-btn layui-btn-sm layui-btn-primary';
            
            // æ›´æ–°å›¾è¡¨
            updateChart(level);
          }
        });
      }
      
      // ç”Ÿæˆæ»é”€å“åˆ—è¡¨
      function generateSlowProductsList(slowProducts) {
        const chartDom = document.getElementById('slowProductsChart');
        if (slowProductsChart) slowProductsChart.dispose();
        slowProductsChart = echarts.init(chartDom);
        if (!slowProducts || slowProducts.length === 0) {
          slowProductsChart.setOption({
            title: { text: 'æ»é”€å“åˆ†æ', left: 'center' },
            graphic: [{ type: 'text', left: 'center', top: 'middle', style: { text: 'æš‚æ— æ»é”€å“æ•°æ®', fontSize: 16, fill: '#999' } }]
          });
          return;
        }
        // åªæ˜¾ç¤ºå‰10æ»é”€å“
        const data = slowProducts.slice(0, 10);
        const option = {
          title: { text: 'æ»é”€å“ï¼ˆé”€é‡â‰¤5ï¼‰å‰10', left: 'center' },
          tooltip: { trigger: 'axis', axisPointer: { type: 'shadow' } },
          grid: { left: '3%', right: '4%', bottom: '3%', containLabel: true },
          xAxis: { type: 'value' },
          yAxis: { type: 'category', data: data.map(item => item.name) },
          series: [{ name: 'é”€é‡', type: 'bar', data: data.map(item => item.totalSales), itemStyle: { color: '#FFB800' } }]
        };
        slowProductsChart.setOption(option);
      }
      
      // ç”Ÿæˆäº§å“è¡¨æ ¼ï¼ˆåˆ†é¡µï¼‰
      let currentPage = 1;
      const pageSize = 20;
      let tableData = [];
      function generateProductTableWithPagination(data) {
        tableData = data;
        renderProductTablePage(1);
        renderPagination();
      }
      function renderProductTablePage(page) {
        currentPage = page;
        const tbody = $('#productTableBody');
        tbody.empty();
        const start = (page - 1) * pageSize;
        const end = start + pageSize;
        const pageData = tableData.slice(start, end);
        pageData.forEach((item, index) => {
          // ä½¿ç”¨åç«¯è¿”å›çš„urlå­—æ®µ
          const url = item.url || '';
          const urlHtml = url && url !== 'æœªæ‰¾åˆ°' && url !== 'null' && url !== 'undefined' ? 
            `<a href="${url}" target="_blank">${url}</a>` : '-';
          
          const row = `
            <tr>
              <td>${start + index + 1}</td>
              <td>${item.name}</td>
              <td>${item.sku}</td>
              <td>${item.totalSales}</td>
              <td>${item.currentStock}</td>
              <td>${Math.round(item.totalSales / 30 * 10) / 10}</td>
              <td>${urlHtml}</td>
            </tr>
          `;
          tbody.append(row);
        });
      }
      function renderPagination() {
        const total = tableData.length;
        const totalPages = Math.ceil(total / pageSize);
        const pagination = $('#productTablePagination');
        pagination.empty();
        // å±…ä¸­å®¹å™¨
        const centerDiv = $('<div style="display:flex;justify-content:center;align-items:center;flex-wrap:wrap;"></div>');
        // ä¸Šä¸€é¡µ
        const prevBtn = $(`<button class="layui-btn layui-btn-sm" ${currentPage === 1 ? 'disabled' : ''}>ä¸Šä¸€é¡µ</button>`);
        prevBtn.on('click', function() { if(currentPage > 1) { renderProductTablePage(currentPage - 1); renderPagination(); } });
        centerDiv.append(prevBtn);
        // æ•°å­—é¡µç ï¼ˆåªæ˜¾ç¤ºå½“å‰é¡µå‰å2é¡µï¼‰
        let startPage = Math.max(1, currentPage - 2);
        let endPage = Math.min(totalPages, currentPage + 2);
        if (currentPage <= 3) endPage = Math.min(5, totalPages);
        if (currentPage >= totalPages - 2) startPage = Math.max(1, totalPages - 4);
        if (startPage > 1) centerDiv.append('<span style="margin:0 4px;">...</span>');
        for (let i = startPage; i <= endPage; i++) {
          const btn = $(`<button class="layui-btn layui-btn-sm ${i === currentPage ? 'layui-btn-primary' : ''}">${i}</button>`);
          btn.on('click', function() { renderProductTablePage(i); renderPagination(); });
          centerDiv.append(btn);
        }
        if (endPage < totalPages) centerDiv.append('<span style="margin:0 4px;">...</span>');
        // ä¸‹ä¸€é¡µ
        const nextBtn = $(`<button class="layui-btn layui-btn-sm" ${currentPage === totalPages ? 'disabled' : ''}>ä¸‹ä¸€é¡µ</button>`);
        nextBtn.on('click', function() { if(currentPage < totalPages) { renderProductTablePage(currentPage + 1); renderPagination(); } });
        centerDiv.append(nextBtn);
        pagination.append(centerDiv);
      }
      
      // å“åº”å¼å¤„ç†
      window.addEventListener('resize', function() {
        if (salesTrendChart) {
          salesTrendChart.resize();
        }
        if (hotProductsChart) {
          hotProductsChart.resize();
        }
        if (slowProductsChart) {
          slowProductsChart.resize();
        }
        if (dailyTotalSalesChart) {
          dailyTotalSalesChart.resize();
        }
      });
    });
    
    // è¿”å›æŒ‰é’®åŠŸèƒ½
    function goBack() {
      window.location.href = 'data-analysis.html';
    }

    function goTmallAnalysis() {
      window.location.href = 'tmall-hot-slow-analysis.html';
    }
  </script>
</body>
</html> 